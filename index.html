<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>Document</title>
	<link rel="stylesheet" href="css/swiper-3.3.1.min.css">
	<link rel="stylesheet" href="css/animate.css">
	
	<script src="js/swiper-3.3.1.min.js"></script>
	<script src="js/swiper.animate1.0.2.min.js"></script>

	<link rel="stylesheet" href="css/style.css">
</head>
<body>
	<audio src="img/music.mp3"></audio>

	<div class="swiper-container1">
		<div class="swiper-wrapper">
			<div class="swiper-slide page1">
				<div class="page1Top">
					<div class="flowerLeft">
						<img src="img/indexFlowers01.png" alt="" class="ani"  swiper-animate-effect="zoomIn" swiper-animate-duration="0.5s" swiper-animate-delay="0.3s"/>
					</div>
					<div class="text">
						<img src="img/indexTxt.png" alt="" class="ani" swiper-animate-effect="fadeIn" swiper-animate-duration="0.3s">
					</div>
					<div class="flowerRight">
						<img src="img/indexFlowers02.png" alt="" class="ani" swiper-animate-effect="zoomIn" swiper-animate-duration="0.5s" swiper-animate-delay="0.3s">
					</div>
				</div>

				<div class="page1Center">
					<img src="img/indexFlight.png" alt="" class="ani" swiper-animate-effect="zoomInDown" swiper-animate-duration="0.8s" swiper-animate-delay="0.8s">
				</div>

				<div class="cloud">
					<img src="img/endCloud.png" alt="" class="ani" swiper-animate-effect="zoomIn" swiper-animate-duration="0.5s" swiper-animate-delay="0.3s">
				</div>

				<div class="elements">
					<img src="img/indexElements.png" alt="" class="ani" swiper-animate-effect="zoomIn" swiper-animate-duration="0.5s" swiper-animate-delay="0.3s">
				</div>

				<div class="stars">
					<img src="img/indexStars.png" alt="" class="ani" swiper-animate-effect="zoomIn" swiper-animate-duration="0.5s" swiper-animate-delay="0.3s">
				</div>
			</div>

			<div class="swiper-slide page2" id="page2">
				<div class="secondText" >
					<div class="secondText1"><img src="img/wasIT.png" alt=""  class="ani" swiper-animate-effect="zoomIn" swiper-animate-duration="0.5s" swiper-animate-delay="0.3s"></div>
					<div class="secondText2"><img src="img/wasFarm.png" alt="" class="ani" swiper-animate-effect="zoomIn" swiper-animate-duration="1s" swiper-animate-delay="0.3s"></div>
				</div>
				<div class="meteor meteorShow"><img src="img/wasStar.png" alt=""></div>
			</div>

			<div class="swiper-slide page3">
				<div class="earlyTitle"><img src="img/earlyTitle.png" alt="" class="ani" swiper-animate-effect="zoomIn" swiper-animate-duration="1s" swiper-animate-delay="0.3s"></div>
				<div class="building" id="building"><img src="img/earlyBuilding.png" alt="" class="ani" swiper-animate-effect="zoomIn" swiper-animate-duration="1s" swiper-animate-delay="0.3s"></div>
				<div class="page3Bj"><img src="img/lastBusStation.png" alt="" class="ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1s" swiper-animate-delay="3s"></div>
				<div class="page3P1" id="page3P1"><img src="img/lastBusAvatar.png" alt=""  class="ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1s" swiper-animate-delay="4s"></div>
				<div class="bus" id="bus"><img src="img/bus.png" alt="" class="ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1s" swiper-animate-delay="4s"></div>
				<div class="page3Title2"><img src="img/lastBusTitle.png" alt="" class="ani" swiper-animate-effect="zoomIn" swiper-animate-duration="1s" swiper-animate-delay="3s"></div>
				
				<div class="team"><img src="img/myTeamBg.jpg" alt="" class="ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1s" swiper-animate-delay="8s"></div>
				<div class="teamWall"><img src="img/myTeamWall.png" alt="" class="ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1s" swiper-animate-delay="8s"></div>
				<div class="teamP"><img src="img/myTeamAvatar.png" alt="" class="ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1s" swiper-animate-delay="8.5s"></div>

				
				<div class="TeamFont">
					<div class="teamTxt"><img src="img/myTeamTxt.png" alt="" class="ani" swiper-animate-effect="zoomIn" swiper-animate-duration="1s" swiper-animate-delay="9s"></div>

					<div class="teamTxt1"><img src="img/myTeamTxt01.png" alt="" class="ani" swiper-animate-effect="zoomIn" swiper-animate-duration="1s" swiper-animate-delay="10s"></div>
					<div class="teamTxt2"><img src="img/myTeamTxt03.png" alt="" class="ani" swiper-animate-effect="zoomIn" swiper-animate-duration="1s" swiper-animate-delay="11s"></div>
					<div class="teamTxt3"><img src="img/myTeamTxt02.png" alt="" class="ani" swiper-animate-effect="zoomIn" swiper-animate-duration="1s" swiper-animate-delay="12s"></div>
					
				</div>
				<div class="teamWhere"><img src="img/myteamWhereTxt.png" alt="" class="ani" swiper-animate-effect="zoomIn" swiper-animate-duration="1s" swiper-animate-delay="13s"></div>
			</div>

			<div class="swiper-slide page4" id="page4">
				<div class="page4Txt">
					<img src="img/cornerTitle.png" alt="" class="ani" swiper-animate-effect="bounceInDown" swiper-animate-duration="1s" swiper=animate-animate-delay="0.2s">
				</div>
				<div class="click"><img src="img/clickGuide.png" alt="" class="infScale"></div>
				
				<div class="deng">
					<img id="lightOff" src="img/lightOff.png" alt="">
					<img id="lightOn" src="img/lightOn.png" alt="">
				</div>

				<div class="lightOnBg"><img src="img/lightOnBg.jpg" alt="" class="ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1s" swiper-animate-delay="0.1s"></div>
				<div class="knowYou"><img src="img/weKnowYou.png" alt="" class="ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1s" swiper-animate-delay="0.3s"></div>	
			</div>

			<div class="swiper-slide page5" id="page5">
				<div class="footCity">
					<img src="img/footCity.jpg" alt="" class="ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1s" swiper-animate-delay="0.5s">
				</div>
				<div class="page5P1">
					<img src="img/footAvatar.png" alt="" class="ani" swiper-animate-effect="bounceInLeft" swiper-animate-duration="1s" swiper-animate-delay="2s">
				</div>
				<div class="page5Txt">
					<img id="page5Img1" src="img/footTa.png" alt="" class="ani " swiper-animate-effect="bounceInLeft" swiper-animate-duration="1s" swiper-animate-delay="1s">
					<img id="page5Img2" src="img/footTx.png" alt="" class="ani" swiper-animate-effect="bounceInLeft" swiper-animate-duration="1s" swiper-animate-delay="3s">
				</div>
			</div>

			<div class="swiper-slide page6">
				<div class="page6P1">
					<img src="img/runAvatar.png" alt="" class="ani" swiper-animate-effect="zoomIn" swiper-animate-duration="1s" swiper-animate-delay="0.5s">
				</div>
				<div class="page6Txt">
					<img id="page6Img1" src="img/runTa.png" alt=""  class="ani" swiper-animate-effect="bounceInLeft" swiper-animate-duration="1s" swiper-animate-delay="0.5s">
					<img id="page6Img2" src="img/runTxt.png" alt="" class="ani" swiper-animate-effect="bounceInLeft" swiper-animate-duration="1s" swiper-animate-delay="2.5s">
					
				</div>
			</div>

			<div class="swiper-slide page7">
				<div class="salaryBg"><img src="img/salaryBg.png" alt="" class="ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1s" swiper-animate-delay="0.5s"></div>
				<div class="page7P1">
					<img src="img/salaryAvatar.png" alt="" class="ani" swiper-animate-effect="zoomIn" swiper-animate-duration="1s" swiper-animate-delay="0.5s">
				</div>
				<div class="page7Txt">
					<img id="page7Img1" src="img/salaryTa.png" alt=""  class="ani" swiper-animate-effect="bounceInLeft" swiper-animate-duration="1s" swiper-animate-delay="0.5s">
					<img id="page7Img2" src="img/salaryTxt.png" alt="" class="ani" swiper-animate-effect="bounceInLeft" swiper-animate-duration="1s" swiper-animate-delay="2.5s">
					
				</div>
			</div>

			<div class="swiper-slide page8">
				<div class="introStar"><img class="infScale2" src="img/introStar.png" alt=""></div>
	
			</div>

			<div class="swiper-slide page9">
				<div class="endBg"> <img src="img/endBg.png" alt=""></div>
				<div class="introCloudy2"><img src="img/introCloudy.png" alt=""></div>
				<div class="endLogo"><img src="img/endLogo.png" alt=""  class="ani" swiper-animate-effect="fadeIn" swiper-animate-duration="2s" swiper-animate-delay="0.5s"></div>
				<div class="endTxt"><img src="img/endTxt.png" alt=""  class="ani" swiper-animate-effect="bounceInDown" swiper-animate-duration="2s" swiper-animate-delay="1s"></div>
				<div class="endMail"><img src="img/endMail.png" alt=""  class="ani" swiper-animate-effect="bounceInDown" swiper-animate-duration="2s" swiper-animate-delay="1.5s"></div>
				<div class="endClick"><img src="img/endClickGuide.png" alt="" class="ani" swiper-animate-effect="bounceInDown" swiper-animate-duration="2s" swiper-animate-delay="1.5s"></div>
				
				<div class="page9P1"><img src="img/endAvatar.png" alt="" class="ani" swiper-animate-effect="bounceInDown" swiper-animate-duration="2s" swiper-animate-delay="1s"></div>

				<div class="endBottomTxt"><img src="img/endBottomTxt.png" alt="" class="ani" swiper-animate-effect="bounceInUp" swiper-animate-duration="2s" swiper-animate-delay="1s"></div>
			</div>
		</div>		
	</div>	

	
	<div class="music">
				<img src="img/musicBtn.png" alt="">
				<img src="img/musicBtnOff.png" alt="">
			</div>

			<div class="arrow">
				<img src="img/arrow-up.png" alt="" class="arrowUp"/>
			</div>

	<script>        
	  var mySwiper = new Swiper ('.swiper-container1', {
		  direction:"vertical",
		  onInit: function(swiper){ //Swiper2.x的初始化是onFirstInit
		    swiperAnimateCache(swiper); //隐藏动画元素 
		    swiperAnimate(swiper); //初始化完成开始动画
		  }, 
		  onSlideChangeEnd: function(swiper){ 
		    swiperAnimate(swiper); //每个slide切换结束时也运行当前slide动画
		  } 
 	 });   

	  var cloud = document.getElementsByClassName("cloud")[0];
	  var oEle = document.getElementsByClassName("elements")[0];
	  var stars = document.getElementsByClassName("stars")[0];
	  var plane = document.getElementsByClassName("page1Center")[0].getElementsByTagName("img")[0];
	  var music = document.getElementsByClassName("music")[0]
	  var musicImg = music.getElementsByTagName("img");
	  var Audio = document.getElementsByTagName("audio")[0];


	 var oBuilding = document.getElementsByClassName("building")[0];
	 var oEarlyTitle = document.getElementsByClassName("earlyTitle")[0];
	 var oPage3 = document.getElementsByClassName("page3")[0];
	 var oPage3Title2 = document.getElementsByClassName("page3Title2")[0];
	 var oBus = document.getElementsByClassName("bus")[0];
	 var oPage3P1 = document.getElementsByClassName("page3P1")[0];


	  music.flag = true;
	  Audio.flag = true;

	  cloud.addEventListener("webkitAnimationEnd",function(){
	  	this.style.webkitAnimation = "scaleCircle 1.5s 0.3s linear infinite alternate";
	  },false);

	  oEle.addEventListener("webkitAnimationEnd",function(){
	  	this.style.webkitAnimation = "scaleCircle 1.5s 0.3s linear infinite alternate";
	  },false);

	  stars.addEventListener("webkitAnimationEnd",function(){
				this.style.webkitAnimation = "scaleCircle 1.5s 0.6s linear infinite alternate";
		},false);

	  plane.addEventListener("webkitAnimationEnd",function(){
	  	this.style.webkitAnimation = "scaleCircle 1.5s linear infinite alternate";
	  })
	 
	oBuilding.addEventListener("webkitAnimationEnd",function(){
		this.className = "building hideOpacity"
	},false);

	oEarlyTitle.addEventListener("webkitAnimationEnd",function(){
		this.className = "earlyTitle hideOpacity";
		// oPage3Bj.style.display="block";
	},false);

	oPage3Title2.addEventListener("webkitAnimationEnd",function(){
		oBus.className = "bus busRunPlay";
		oPage3P1.className = "page3P1 page3P1Run";
	},false)

	 var page4 = document.getElementById('page4');
	 var bus = document.getElementById('bus');
	 var page3P1 = document.getElementById("page3P1");
	 var building = document.getElementById("building");

	 page4.addEventListener("webkitAnimationEnd",function(){
	 	page3P1.className = "page3P1";
	 	bus.className = "bus";
	 	building.className = "building";
	 },false);

	 var oLightOff = document.getElementById("lightOff");
	 var oLightOn = document.getElementById("lightOn");
	 var oPage4Txt =document.getElementsByClassName("page4Txt")[0];
	 var oClick = document.getElementsByClassName("click")[0];
	 var oKnowYou = document.getElementsByClassName("knowYou")[0];
	 var oLightOnBg = document.getElementsByClassName("lightOnBg")[0];

	 oLightOff.onclick = function(){
	 	oLightOff.style.display = "none";
	 	oLightOn.style.display = "block"
	 	oPage4Txt.style.display = "none"
	 	oClick.style.display = "none";
	 	oKnowYou.style.display = "block";
	 	

	 }
	 oLightOn.onclick = function(){
	 	oLightOff.style.display = "block";
	 	oLightOn.style.display = "none";
	 	oPage4Txt.style.display="block"
	 	oClick.style.display = "block";
	 	oKnowYou.style.display ="none";
	 	oLightOnBg.style.display = "none"
	 }

	 oKnowYou.addEventListener("webkitAnimationEnd",function(){
	 	oLightOnBg.style.display = "block";
	 },false);

	var page5 = document.getElementById("page5");	
	
	 var oPage5Img1 = document.getElementById("page5Img1");
	 var oPage5Img2 = document.getElementById("page5Img2");

	 page5.addEventListener("webkitAnimationEnd",function(){
	 	// console.log(1);
	 	oLightOff.style.display = "block";
	 	oLightOn.style.display = "none";
	 	oPage4Txt.style.display="block"
	 	oClick.style.display = "block";
	 	oKnowYou.style.display ="none";
	 	oLightOnBg.style.display = "none"


	 },false)

	 oPage5Img1.addEventListener("webkitAnimationEnd",function(){
	 	oPage5Img1.className='hideOpacity';
	 },false);

	 var oPage6Img1 = document.getElementById("page6Img1");
	 var oPage6Img2 = document.getElementById("page6Img2");
	 
	 oPage6Img1.addEventListener("webkitAnimationEnd",function(){
	 	oPage6Img1.className = "hideOpacity";
	 },false);

	 var oPage7Img1 = document.getElementById("page7Img1");
	 var oPage7Img2 = document.getElementById("page7Img2");
	  oPage7Img1.addEventListener("webkitAnimationEnd",function(){
	  	
	 	oPage7Img1.className = "hideOpacity";
	 },false);

	  var oPage9P1 = document.getElementsByClassName("page9P1")[0];
	  oPage9P1.addEventListener("webkitAnimationEnd",function(){
	  		oPage9P1.className = "page9P1 bounceInDownInfinite";
	  },false);
	





	  // 解决冒泡问题 这里用了 两把锁 当点击第一次的时候满足所有条件 当冒泡到这里的时候已经不满足条件了
	  document.onclick = function(){
	  	if(Audio.flag && music.flag){
	  	
	  		Audio.play();
	  		musicImg[0].style.display = "block";
	  		musicImg[1].style.display = "none";
	  		music.className = "music musicPlay";
	  		Audio.flag = false;
	  	}
	  }
	  
	  music.onclick = function(){
	  
			this.flag = false;
			
			if(Audio.flag){
				
				Audio.play();
		  		musicImg[0].style.display = "block";
		  		musicImg[1].style.display = "none";
		  		music.className = "music musicPlay";
		  		Audio.flag = false;
			}else{
				// 这里会冒泡到document.onclick 就又会执行play
				Audio.pause();
				musicImg[0].style.display = "";
		  		musicImg[1].style.display = "";
		  		music.className="music";
		  		Audio.flag = true;
			}
			
	  }
  </script>
</body>
</html>